<div class="card header-card p-3">
  <div class="d-flex justify-content-between">
    <div>
      <div class="d-flex">
        <div class="me-1">
          <img src="../../../assets/images/logo.png" width="60" height="40" />
        </div>
        <div class="title d-flex align-items-center">
          The&nbsp; <strong style="color: #51c297">Fintalk</strong>
        </div>
      </div>
    </div>

    <div class="desktop-only d-flex align-items-center">
      <div
        *ngIf="!capabilities.employee"
        class="icon-container me-3"
        (click)="gotoEvents()"
        title="Today's events"
      >
        <img
          src="../../../assets/images/menu/alerts.gif"
          alt="alerts"
          class="alerticon"
        />
        <span class="badge">{{ todayEventCount }}</span>
      </div>
      <div class="flex desktop-only justify-content-center">
        <p-sidebar
          [(visible)]="sidebarVisible"
          position="right"
          class="desktop-only"
        >
          <div class="">
            <h4 class="fw-bold account-title text-center">My Account</h4>
            <div class="mt-2 pointer-cursor text-capitalize">
              <div class="d-flex p-3 light-blue-background">
                <div class="me-2">
                  <!-- <img
                    src="../../../assets/images/profile/user.png"
                    width="50px"
                    class="rounded-circle"
                  /> -->
                  <!-- <div class="d-flex justify-content-center align-items-center">
                    <ng-container
                      *ngIf="
                        userDetails &&
                        userDetails.userImage &&
                        userDetails.userImage.length > 0
                      "
                    >
                      <ng-container>
                        <a
                          [href]="'//' + userDetails.userImage[0]"
                          target="_blank"
                        >
                          <img
                            [src]="'//' + userDetails.userImage[0]"
                            alt="Image"
                            class="employeeImage"
                            style="height: 50px; width: 50px"
                          />
                        </a>
                      </ng-container>
                    </ng-container>
                    <div *ngIf="userDetails && userDetails.userImage == null">
                      <tr class="text-center">
                        <img
                          class="employeeImage"
                          style="height: 50px; width: 50px"
                          src="../../../assets/images/profile/user.png"
                        />
                      </tr>
                    </div>
                  </div> -->
                  <div class="d-flex justify-content-center align-items-center">
                    <ng-container>
                      <ng-container
                        *ngIf="
                          capabilities.employee
                            ? userDetails?.passPhoto
                            : userDetails?.userImage?.length > 0;
                          else defaultImage
                        "
                      >
                        <a
                          [href]="
                            capabilities.employee
                              ? '//' + userDetails.passPhoto
                              : '//' + userDetails.userImage[0]
                          "
                          target="_blank"
                        >
                          <img
                            [src]="
                              capabilities.employee
                                ? '//' + userDetails.passPhoto
                                : '//' + userDetails.userImage[0]
                            "
                            alt="Image"
                            class="employeeImage"
                            style="height: 50px; width: 50px"
                          />
                        </a>
                      </ng-container>
                    </ng-container>

                    <ng-template #defaultImage>
                      <img
                        class="employeeImage"
                        style="height: 50px; width: 50px"
                        src="../../../assets/images/profile/user.png"
                      />
                    </ng-template>
                  </div>
                </div>
                <div>
                  <div class="text-primary fw-bold text-capitalize">
                    {{
                      capabilities.employee
                        ? (userDetails?.employeeName | capitalizeFirst)
                        : (userDetails?.username | capitalizeFirst)
                    }}
                  </div>
                  <div class="text-capitalize">
                    {{ userDetails.designationName }}
                  </div>
                </div>
              </div>
              <div *ngIf="!capabilities.employee">
                <div class="info-line">
                  <div class="label me-2">First Name&nbsp;:</div>
                  <div class="value">
                    {{ userDetails.firstName | capitalizeFirst }}
                  </div>
                </div>
                <div class="info-line">
                  <div class="label me-2">Last Name&nbsp;:</div>
                  <div class="value">
                    {{ userDetails.lastName | capitalizeFirst }}
                  </div>
                </div>
                <div class="info-line">
                  <div class="label me-2">Email&nbsp;:</div>
                  <div class="value text-lowercase">
                    {{ userDetails.email }}
                  </div>
                </div>
                <div class="info-line">
                  <div class="label me-2">Mobile&nbsp;:</div>
                  <div class="value">
                    {{ userDetails.phoneNumber }}
                  </div>
                </div>
              </div>
            </div>
            <div
              class="pl-4 d-flex align-items-center justify-content-center m-2"
            >
              <p-button
                label="Logout"
                styleClass="p-button-danger"
                icon="pi pi-sign-out"
                (click)="userLogout()"
                iconPos="right"
              ></p-button>
            </div>
          </div>
        </p-sidebar>
        <div
          class="d-flex profile1 align-items-center justify-content-center"
          (click)="sidebarVisible = true"
        >
          <!-- <div class="d-flex justify-content-center align-items-center me-2">
            <ng-container
              *ngIf="
                userDetails &&
                userDetails.userImage &&
                userDetails.userImage.length > 0
              "
            >
              <ng-container>
                <a [href]="'//' + userDetails.userImage[0]" target="_blank">
                  <img
                    [src]="'//' + userDetails.userImage[0]"
                    alt="Image"
                    class="employeeImage"
                    style="height: 45px; width: 45px"
                  />
                </a>
              </ng-container>
            </ng-container>
            <div *ngIf="userDetails && userDetails.userImage == null">
              <tr class="text-center">
                <img
                  class="employeeImage"
                  style="height: 45px; width: 45px"
                  src="../../../assets/images/profile/user.png"
                />
              </tr>
            </div>
          </div> -->
          <div class="d-flex justify-content-center align-items-center me-2">
            <ng-container>
              <ng-container
                *ngIf="
                  capabilities.employee
                    ? userDetails?.passPhoto
                    : userDetails?.userImage?.length > 0;
                  else defaultImage
                "
              >
                <a
                  [href]="
                    capabilities.employee
                      ? '//' + userDetails.passPhoto
                      : '//' + userDetails.userImage[0]
                  "
                  target="_blank"
                >
                  <img
                    [src]="
                      capabilities.employee
                        ? '//' + userDetails.passPhoto
                        : '//' + userDetails.userImage[0]
                    "
                    alt="Image"
                    class="employeeImage"
                    style="height: 45px; width: 45px"
                  />
                </a>
              </ng-container>
            </ng-container>

            <ng-template #defaultImage>
              <img
                class="employeeImage"
                style="height: 45px; width: 45px"
                src="../../../assets/images/profile/user.png"
              />
            </ng-template>
          </div>

          <!-- <p class="profile text-capitalize">
            {{ userDetails.username | capitalizeFirst }}
          </p> -->
          <p class="profile text-capitalize desktop-only">
            {{
              capabilities.employee
                ? (userDetails?.employeeName | capitalizeFirst)
                : (userDetails?.username | capitalizeFirst)
            }}
          </p>
        </div>
      </div>
    </div>
    <div
      class="mobile-only d-flex align-items-center hide-on-desktop"
      (click)="showSidebarMenu()"
    >
      <i class="pi pi-bars"></i>
    </div>
  </div>
</div>
